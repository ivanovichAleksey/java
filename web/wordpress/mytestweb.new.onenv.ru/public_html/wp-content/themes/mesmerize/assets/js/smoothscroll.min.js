!function(t){function o(o){var n=isNaN(parseFloat(o.options.offset))?o.options.offset.call(o.target):o.options.offset;return o.target.offset().top-n-t("body").offset().top}function n(t,o){setTimeout(function(){t=t&&"page-top"!==t?"#"+t:" ",history&&history.replaceState&&history.replaceState({},"",t)},o||100)}function e(e){if(!l){l=!0;var i=o(e);t("html, body").animate({scrollTop:i},{easing:"linear",complete:function(){var i=o(e);t("html, body").animate({scrollTop:i},{easing:"linear",duration:100,complete:function(){l=!1,n(e.id)}})}})}}function i(o){var n=(o.attr("href")||"").split("#").pop(),e=function(t){var o=jQuery(t)[0].href||"",n="#";try{var e=new window.URL(o);n=[e.protocol,"//",e.host,e.pathname].join("")}catch(t){n=o.split("?")[0].split("#")[0]}return n}(o),i=null,r=[location.protocol,"//",location.host,location.pathname].join("");if(e.length&&e!==r)return i;if(n.trim().length)try{i=t('[id="'+n+'"]')}catch(t){console.log("error scrollSpy",t)}return i&&i.length?i:null}function r(){a.forEach(function(o){o.target&&function(o){var n=.5*window.innerHeight,e={top:t(o)[0].getBoundingClientRect().top,bottom:t(o)[0].getBoundingClientRect().bottom};return e.top>=0&&e.top<n||top<0&&e.bottom>0}(o.target)&&t.contains(document,o.element[0])?(n(o.id,5),o.options.onChange.call(o.element)):o.options.onLeave.call(o.element)})}var a=[],l=!1;t.fn.smoothScrollAnchor=function(o){var n=t(this);o=jQuery.extend({offset:0},o),n.each(function(){var n=t(this),r=o.target||i(n);if(r&&r.length){var a={element:n,options:o,target:r,targetSel:o.targetSel||'[id="'+r.attr("id").trim()+'"]',id:(r.attr("id")||"").trim()};n.off("click").on("click",function(t){t.preventDefault(),t.stopPropagation(),e(a)})}})},t.fn.scrollSpy=function(o){t(this).each(function(){var n=t(this);if(o=jQuery.extend({onChange:function(){},onLeave:function(){},smoothScrollAnchor:!1,offset:0},o),n.is("a")&&-1!==(n.attr("href")||"").indexOf("#")){var e=i(n);if(e){var r={element:n,options:o,target:e,targetSel:'[id="'+e.attr("id").trim()+'"]',id:e.attr("id").trim()};a.push(r),n.data("scrollSpy",r),o.smoothScrollAnchor&&n.smoothScrollAnchor({offset:o.offset})}}})},t(window).scroll(r),t(window).bind("smoothscroll.update",r),t(function(){var o=window.location.hash.replace("#",""),n=a.filter(function(t){return t.targetSel==='[id="'+o.trim()+'"]'});t(window).on("load",function(){n.length&&e(n[0]),r()})})}(jQuery);